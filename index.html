<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Morocco Desert Trails</title>
    
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-XXXXXXXXXX"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-XXXXXXXXXX'); 
    </script>

    <script>
    !function(f,b,e,v,n,t,s)
    {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
    n.callMethod.apply(n,arguments):n.queue.push(arguments)};
    if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
    n.queue=[];t=b.createElement(e);t.async=!0;
    t.src=v;s=b.getElementsByTagName(e)[0];
    s.parentNode.insertBefore(t,s)}(window, document,'script',
    'https://connect.facebook.net/en_US/fbevents.js');
    fbq('init', 'YOUR_PIXEL_ID'); 
    fbq('track', 'PageView');
    </script>
    <noscript><img height="1" width="1" style="display:none"
    src="https://www.facebook.com/tr?id=YOUR_PIXEL_ID&ev=PageView&noscript=1"
    /></noscript>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&family=Playfair+Display:wght@400;700&family=Poppins:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <style>
        /* --- CSS VARIABLES --- */
        :root {
            --primary: #d35400;
            --secondary: #2c3e50;
            --accent: #e67e22;
            --sand: #f9f7f2;
            --white: #ffffff;
            --text: #333333;
            --shadow: 0 10px 30px rgba(0,0,0,0.1);
            --transition: all 0.3s ease;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Poppins', sans-serif;
            background-color: var(--sand);
            color: var(--text);
            line-height: 1.6;
            overflow-x: hidden;
        }

        /* --- RTL FOR ARABIC --- */
        body.rtl {
            font-family: 'Cairo', sans-serif;
            direction: rtl;
            text-align: right;
        }
        body.rtl .logo-img { margin-right: 0; margin-left: 10px; }
        body.rtl .btn-outline { margin-left: 0; margin-right: 10px; }
        body.rtl .itinerary-item { border-left: none; border-right: 3px solid var(--primary); padding-left: 0; padding-right: 20px; }
        
        h1, h2, h3, h4 { font-family: 'Playfair Display', serif; color: var(--secondary); }
        body.rtl h1, body.rtl h2, body.rtl h3, body.rtl h4 { font-family: 'Cairo', sans-serif; }

        a { text-decoration: none; color: inherit; }
        ul { list-style: none; }
        img { max-width: 100%; display: block; object-fit: cover; }

        /* --- NAVIGATION --- */
        header {
            position: fixed; top: 0; width: 100%;
            background: rgba(255, 255, 255, 0.98);
            z-index: 1000;
            box-shadow: 0 2px 15px rgba(0,0,0,0.05);
            padding: 0.5rem 5%;
            display: flex; justify-content: space-between; align-items: center;
            height: 80px; 
        }

        .logo-container { display: flex; align-items: center; }
        .logo-img { height: 60px; width: auto; margin-right: 10px; }

        nav ul { display: flex; gap: 20px; align-items: center; }

        nav a {
            font-weight: 500; color: var(--secondary);
            transition: var(--transition); cursor: pointer;
            font-size: 0.95rem;
        }
        nav a:hover, nav a.active { color: var(--primary); }

        .lang-select {
            padding: 5px 10px;
            border-radius: 5px;
            border: 1px solid var(--primary);
            background: transparent;
            color: var(--primary);
            font-weight: bold;
            cursor: pointer;
        }

        .mobile-menu-btn { display: none; font-size: 1.8rem; cursor: pointer; color: var(--secondary); }

        /* --- SECTIONS --- */
        .page-section { display: none; padding-top: 80px; animation: fadeIn 0.5s ease; }
        .page-section.active { display: block; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        /* --- HERO --- */
        .hero {
            position: relative; margin-top: 80px; width: 100%; aspect-ratio: 16/9; 
            background-image: url('image_9.png'); /* تأكد من وجود هذه الصورة */
            background-size: cover; background-position: center;
            display: flex; flex-direction: column; justify-content: flex-end; 
            align-items: center; text-align: center; padding-bottom: 4%;
        }
        .hero-content { width: 100%; z-index: 2; }
        
        .btn {
            display: inline-block; padding: 12px 30px; border-radius: 50px;
            font-weight: 600; transition: var(--transition); cursor: pointer; border: none;
            font-family: inherit; font-size: 1rem;
        }
        .btn-primary { background-color: var(--primary); color: var(--white); }
        .btn-primary:hover { background-color: var(--accent); transform: translateY(-3px); }
        .btn-outline { background: rgba(255, 255, 255, 0.1); border: 2px solid var(--white); color: var(--white); margin-left: 10px; }
        .btn-outline:hover { background: var(--white); color: var(--secondary); }

        /* --- CARDS & DETAILS --- */
        .container { max-width: 1200px; margin: 0 auto; padding: 4rem 2rem; }
        .section-title { text-align: center; margin-bottom: 3rem; }
        .section-title h2 { font-size: 2.5rem; margin-top: 10px; }
        
        .grid-3 { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 30px; }
        .card { background: var(--white); border-radius: 15px; overflow: hidden; box-shadow: var(--shadow); transition: var(--transition); }
        .card:hover { transform: translateY(-10px); }
        .card-img { height: 250px; width: 100%; background-color: #ddd; }
        .card-img img { width: 100%; height: 100%; object-fit: cover; }
        .card-content { padding: 1.5rem; }
        .card-meta { display: flex; justify-content: space-between; color: #777; font-size: 0.9rem; margin-bottom: 1rem; }
        .price { color: var(--primary); font-weight: 700; font-size: 1.2rem; display: block; margin-top: 1rem; }
        .card-btn { display: block; width: 100%; text-align: center; padding: 10px; margin-top: 1rem; border: 1px solid var(--secondary); border-radius: 5px; color: var(--secondary); font-weight: 600; cursor: pointer; transition: 0.3s; }
        .card-btn:hover { background: var(--secondary); color: white; }

        /* Detail View Styles */
        .program-detail { max-width: 1000px; margin: 0 auto; padding: 2rem; }
        .detail-header { position: relative; height: 400px; border-radius: 20px; overflow: hidden; margin-bottom: 2rem; }
        .detail-header img { width: 100%; height: 100%; object-fit: cover; }
        .itinerary-item { display: flex; gap: 20px; margin-bottom: 2rem; border-left: 3px solid var(--primary); padding-left: 20px; }
        .day-badge { background: var(--primary); color: var(--white); padding: 5px 15px; border-radius: 20px; height: fit-content; font-weight: bold; min-width: 80px; text-align: center; }
        
        /* Included/Excluded Lists */
        .service-list { display: flex; flex-direction: column; gap: 10px; margin-top: 1rem; }
        .service-list li { display: flex; align-items: center; gap: 10px; font-size: 0.95rem; }
        .service-list .check { color: green; font-size: 1.1rem; }
        .service-list .times { color: red; font-size: 1.1rem; }

        .book-section { background: var(--white); padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); margin-top: 2rem; text-align: center; }
        .whatsapp-btn { background-color: #25D366; color: white; padding: 12px 25px; border-radius: 50px; display: inline-flex; align-items: center; gap: 10px; font-weight: bold; margin-top: 10px; transition: var(--transition); }
        .whatsapp-btn:hover { background-color: #1ebc57; }

        /* --- CONTACT & FOOTER --- */
        .contact-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 50px; }
        .contact-info-box { background: var(--white); padding: 2rem; border-radius: 15px; box-shadow: var(--shadow); }
        .info-item { display: flex; align-items: center; gap: 20px; margin-bottom: 1.5rem; }
        form input, form textarea { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 5px; }
        
        footer { background: var(--secondary); color: var(--white); padding: 3rem 2rem; text-align: center; margin-top: 4rem; }
        .footer-logo-img { height: 80px; width: auto; margin: 0 auto 1rem auto; display: block; }

        /* --- MOBILE --- */
        @media (max-width: 768px) {
            .hero { aspect-ratio: 16/9; min-height: auto; margin-top: 80px; }
            .grid-3, .contact-grid { grid-template-columns: 1fr; }
            .detail-header { height: 250px; }
            .grid-3[style*="grid-template-columns: 2fr 1fr"] { grid-template-columns: 1fr !important; }
            .mobile-menu-btn { display: block; }
            nav { display: none; position: absolute; top: 80px; left: 0; width: 100%; background-color: var(--white); padding: 20px; box-shadow: 0 10px 20px rgba(0,0,0,0.05); }
            nav.active-menu { display: block; }
            nav ul { flex-direction: column; gap: 20px; }
            .btn-outline { margin-left: 0; margin-top: 10px; display: block; width: 100%; }
        }
    </style>
</head>
<body id="body">

    <header>
        <div class="logo-container">
            <img src="image_10.png" alt="Morocco Desert Trails" class="logo-img">
        </div>
        
        <nav id="navbar">
            <ul>
                <li><a onclick="showSection('home')" class="active" data-lang="home">Home</a></li>
                <li><a onclick="showSection('programs')" data-lang="programs">Travel Programs</a></li>
                <li><a onclick="showSection('about')" data-lang="about">About Us</a></li>
                <li><a onclick="showSection('contact')" data-lang="contact">Contact</a></li>
                <li>
                    <select class="lang-select" onchange="changeLanguage(this.value)">
                        <option value="en">English</option>
                        <option value="fr">Français</option>
                        <option value="es">Español</option>
                        <option value="de">Deutsch</option>
                        <option value="ar">العربية</option>
                    </select>
                </li>
            </ul>
        </nav>
        
        <div class="mobile-menu-btn" onclick="toggleMenu()">
            <i class="fa-solid fa-bars"></i>
        </div>
    </header>

    <div id="home" class="page-section active" style="padding-top: 0;">
        <div class="hero">
            <div class="hero-content">
                <div class="hero-buttons">
                    <button class="btn btn-primary" onclick="showSection('programs')" data-lang="view_programs">View Travel Programs</button>
                    <button class="btn btn-outline" onclick="showSection('contact')" data-lang="contact_us">Contact Us</button>
                </div>
            </div>
        </div>
        <div class="container">
            <div class="section-title">
                <span data-lang="why_choose_us_sub">Why Choose Us</span>
                <h2 data-lang="why_choose_us_title">We Create Memories</h2>
            </div>
            <div class="grid-3">
                <div style="text-align: center; padding: 20px;">
                    <i class="fa-solid fa-user-shield" style="font-size: 3rem; color: var(--primary); margin-bottom: 15px;"></i>
                    <h3 data-lang="feat_1_title">Trusted Guides</h3>
                    <p data-lang="feat_1_desc">Local Berber experts who know every dune and star in the sky.</p>
                </div>
                <div style="text-align: center; padding: 20px;">
                    <i class="fa-solid fa-bed" style="font-size: 3rem; color: var(--primary); margin-bottom: 15px;"></i>
                    <h3 data-lang="feat_2_title">Comfort & Style</h3>
                    <p data-lang="feat_2_desc">Luxury desert camps and comfortable 4x4 transport.</p>
                </div>
                <div style="text-align: center; padding: 20px;">
                    <i class="fa-solid fa-clock" style="font-size: 3rem; color: var(--primary); margin-bottom: 15px;"></i>
                    <h3 data-lang="feat_3_title">24/7 Support</h3>
                    <p data-lang="feat_3_desc">We are with you every step of the journey.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="programs" class="page-section">
        <div class="container">
            <div class="section-title">
                <span data-lang="packages_sub">Our Packages</span>
                <h2 data-lang="packages_title">Featured Travel Programs</h2>
                <p data-lang="packages_desc">Choose your perfect adventure.</p>
            </div>
            <div class="grid-3" id="programs-grid">
                </div>
        </div>
    </div>

    <div id="program-detail-view" class="page-section">
        <div class="container program-detail">
            <button onclick="showSection('programs')" style="margin-bottom: 20px; border:none; background:none; cursor:pointer; color:var(--primary); font-size:1.1rem;">
                <i class="fa-solid fa-arrow-left"></i> <span data-lang="back">Back to Programs</span>
            </button>
            
            <div class="detail-header">
                <img id="detail-img" src="" alt="Program Image">
                <div style="position: absolute; bottom: 0; left: 0; width: 100%; background: linear-gradient(transparent, rgba(0,0,0,0.8)); color: white; padding: 20px;">
                    <h1 id="detail-title">Program Title</h1>
                </div>
            </div>

            <div class="grid-3" style="grid-template-columns: 2fr 1fr; gap: 40px;">
                <div>
                    <h3 data-lang="description">Description</h3>
                    <p id="detail-desc" style="margin-bottom: 2rem; white-space: pre-line; color: #555;">Description...</p>

                    <h3 data-lang="itinerary">Itinerary</h3>
                    <div id="detail-itinerary">
                        </div>

                    <div style="background: #fdfdfd; padding: 20px; border-radius: 10px; border: 1px solid #eee; margin-top: 30px;">
                        <h3 data-lang="services">Included / Excluded</h3>
                        <div class="service-list" id="detail-services">
                            </div>
                    </div>
                </div>

                <div>
                    <div class="book-section" style="position: sticky; top: 100px;">
                        <span class="price" id="detail-duration" style="font-size: 1.1rem; color: #555; margin-bottom: 10px; display:block;"></span>
                        <p style="font-weight: bold; color: var(--primary);" data-lang="per_person">Contact for Best Price</p>
                        <hr style="margin: 20px 0; border: 0; border-top: 1px solid #eee;">
                        <p style="font-size: 0.9rem; margin-bottom: 15px;" data-lang="ready_book">Ready to book this adventure? Contact us directly to reserve your dates.</p>
                        <a href="#" id="wa-link" target="_blank" class="whatsapp-btn">
                            <i class="fa-brands fa-whatsapp"></i> <span data-lang="book_wa">Book via WhatsApp</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="about" class="page-section">
        <div class="container">
            <div class="grid-3" style="grid-template-columns: 1fr 1fr; align-items: center;">
                <div>
                    <img src="PI.png" alt="About Morocco Desert Trails" style="border-radius: 20px; height: 350px;">
                </div>
                <div>
                    <div class="section-title" style="text-align: left;">
                        <span data-lang="about">About Us</span>
                        <h2>Morocco Desert Trails</h2>
                    </div>
                    <p style="margin-bottom: 1rem;" data-lang="about_text_1">We are a passionate team of local experts based in Marrakech, dedicated to showing you the authentic side of Morocco.</p>
                    <p data-lang="about_text_2">Our mission is to take you beyond the typical tourist paths. From the bustle of the medina to the silence of the Sahara.</p>
                </div>
            </div>
        </div>
    </div>

    <div id="contact" class="page-section">
        <div class="container">
            <div class="section-title">
                <span data-lang="get_touch">Get In Touch</span>
                <h2 data-lang="contact">Contact Us</h2>
            </div>
            <div class="contact-grid">
                <div class="contact-info-box">
                    <h3 data-lang="contact_info">Contact Information</h3>
                    <br>
                    <div class="info-item">
                        <i class="fa-solid fa-location-dot"></i>
                        <div>
                            <h4 data-lang="address">Address</h4>
                            <p>LOT KHALIL 1 NR 239 ASKJOUR, Marrakech</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <i class="fa-solid fa-phone"></i>
                        <div>
                            <h4 data-lang="phone">Phone & WhatsApp</h4>
                            <p>+212 624-725148</p>
                        </div>
                    </div>
                    <div class="info-item">
                        <i class="fa-solid fa-envelope"></i>
                        <div>
                            <h4 data-lang="email">Email</h4>
                            <p>omarelazzaoui11@gmail.com</p>
                        </div>
                    </div>
                </div>

                <div>
                    <form>
                        <h3 data-lang="send_msg">Send us a message</h3>
                        <br>
                        <input type="text" placeholder="Your Name" id="form-name">
                        <input type="email" placeholder="Your Email" id="form-email">
                        <input type="text" placeholder="Subject" id="form-subject">
                        <textarea rows="5" placeholder="Your Message" id="form-msg"></textarea>
                        <button class="btn btn-primary" style="width: 100%;" data-lang="send_btn">Send Message</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <footer>
        <img src="image_10.png" alt="Logo" class="footer-logo-img">
        <p data-lang="tagline">Journeys into the Soul of the Sahara</p>
        <div style="margin-top: 20px; font-size: 1.5rem;">
            <a href="https://www.facebook.com/share/1GPdpq769F/?mibextid=wwXIfr" target="_blank" style="margin: 0 10px; color: white;"><i class="fa-brands fa-facebook"></i></a>
            <a href="https://www.instagram.com/morocco_desert_trails?igsh=MWg3bjBocHFrYmY0bg%3D%3D&utm_source=qr" target="_blank" style="margin: 0 10px; color: white;"><i class="fa-brands fa-instagram"></i></a>
        </div>
        <p style="margin-top: 2rem; font-size: 0.8rem; opacity: 0.7;">© 2026 Morocco Desert Trails.</p>
    </footer>

    <script>
        // 1. Translations
        const translations = {
            en: {
                home: "Home", programs: "Travel Programs", about: "About Us", contact: "Contact",
                view_programs: "View Travel Programs", contact_us: "Contact Us",
                why_choose_us_sub: "Why Choose Us", why_choose_us_title: "We Create Memories",
                feat_1_title: "Trusted Guides", feat_1_desc: "Local Berber experts.",
                feat_2_title: "Comfort & Style", feat_2_desc: "Luxury desert camps and 4x4.",
                feat_3_title: "24/7 Support", feat_3_desc: "We are with you every step.",
                packages_sub: "Our Packages", packages_title: "Featured Travel Programs", packages_desc: "Choose your perfect adventure.",
                view_details: "View Details", back: "Back to Programs", description: "Description", itinerary: "Itinerary", services: "Included / Excluded",
                per_person: "Contact for Pricing", ready_book: "Ready to book?", book_wa: "Book via WhatsApp",
                get_touch: "Get In Touch", contact: "Contact Us", contact_info: "Contact Information",
                address: "Address", phone: "Phone", email: "Email",
                send_msg: "Send Message", send_btn: "Send",
                about_text_1: "We are a passionate team of local experts.",
                about_text_2: "We take you beyond typical tourist paths.",
                tagline: "Journeys into the Soul of the Sahara"
            },
            ar: {
                home: "الرئيسية", programs: "البرامج", about: "من نحن", contact: "اتصل بنا",
                view_programs: "تصفح البرامج", contact_us: "تواصل معنا",
                why_choose_us_sub: "لماذا نحن", why_choose_us_title: "نصنع ذكريات لا تنسى",
                feat_1_title: "مرشدون خبراء", feat_1_desc: "خبراء محليون يعرفون الصحراء جيداً.",
                feat_2_title: "راحة وأناقة", feat_2_desc: "مخيمات فاخرة ونقل مريح.",
                feat_3_title: "دعم متواصل", feat_3_desc: "معك في كل خطوة.",
                packages_sub: "باقاتنا", packages_title: "أفضل البرامج", packages_desc: "اختر رحلتك.",
                view_details: "التفاصيل", back: "عودة", description: "الوصف", itinerary: "البرنامج", services: "الخدمات المشمولة",
                per_person: "تواصل لمعرفة السعر", ready_book: "جاهز للحجز؟", book_wa: "احجز عبر واتساب",
                get_touch: "تواصل معنا", contact: "اتصل بنا", contact_info: "معلومات الاتصال",
                address: "العنوان", phone: "الهاتف", email: "البريد",
                send_msg: "أرسل رسالة", send_btn: "إرسال",
                about_text_1: "نحن فريق من الخبراء المحليين في مراكش.",
                about_text_2: "نأخذك بعيداً عن المسارات التقليدية.",
                tagline: "رحلات في قلب الصحراء"
            }
        };

        // 2. Programs Data (The 9 Tours)
        const programsData = {
            1: {
                title: "Guided Tour To Ouzoud from Marrakech",
                image: "ouzoud.jpg",
                duration: "1 Day",
                desc: "Escape the heat of Marrakech and drive into the Atlas Mountains. Witness the stunning 110-meter high Ouzoud Waterfalls.",
                itinerary: [{ day: "1", text: "Marrakech -> Atlas Mountains -> Ouzoud Waterfalls -> Marrakech" }],
                included: ["Pick up & Drop off", "Transport A/C", "Local Guide"],
                excluded: ["Lunch", "Drinks"]
            },
            2: {
                title: "Discovery Tour To Essaouira from Marrakech",
                image: "essaouira.jpg",
                duration: "1 Day",
                desc: "Visit the charming coastal city of Essaouira (Mogador). Explore the historic Medina and see the fishing port.",
                itinerary: [{ day: "1", text: "Marrakech -> Argan Oil Coop -> Essaouira City Tour -> Marrakech" }],
                included: ["Pick up & Drop off", "Transport A/C"],
                excluded: ["Lunch", "Entrance fees"]
            },
            3: {
                title: "Ourika Private Tour From Marrakech",
                image: "ourika.jpg",
                duration: "1 Day",
                desc: "Discover the beautiful Ourika Valley nestled in the High Atlas Mountains. Hike to the waterfalls of Setti Fatma.",
                itinerary: [{ day: "1", text: "Marrakech -> High Atlas -> Berber House -> Setti Fatma -> Marrakech" }],
                included: ["Private Transport 4x4/Van", "Driver/Guide"],
                excluded: ["Lunch", "Personal Expenses"]
            },
            4: {
                title: "Day Trip Ait ben Haddou from Ouarzazate",
                image: "aitbenhaddou.jpg",
                duration: "1 Day",
                desc: "Explore the UNESCO World Heritage site of Ait Ben Haddou, the backdrop for many Hollywood movies like Gladiator.",
                itinerary: [{ day: "1", text: "Ouarzazate -> Ait Ben Haddou Kasbah -> Atlas Studios -> Ouarzazate" }],
                included: ["Transport", "Guide"],
                excluded: ["Lunch", "Entrance Fees"]
            },
            5: {
                title: "2 Days Desert Tour from Marrakech to Zagora",
                image: "zagora.jpg",
                duration: "2 Days / 1 Night",
                desc: "Private 2 Days Desert Tour from Marrakech to Zagora. Discover the Draa Valley and ride a camel at sunset.",
                itinerary: [
                    { day: "1", text: "Marrakech -> Tizi N'tichka -> Ait Ben Haddou -> Draa Valley -> Zagora (Camp)" },
                    { day: "2", text: "Zagora -> Ouarzazate -> Marrakech" }
                ],
                included: ["Transport A/C 4x4/Van", "English speaking driver", "Pick up & drop off", "Dinner & Breakfast", "Camel Trek", "Night in Desert Camp"],
                excluded: ["Lunches & Drinks", "Entrance fees", "Private Expenses"]
            },
            6: {
                title: "3 Days Sahara Tour from Marrakech To Merzouga",
                image: "merzouga3.jpg",
                duration: "3 Days / 2 Nights",
                desc: "The most popular desert activity. Pass through High Atlas, Ait Ben Haddou, Dades, and sleep in Merzouga dunes.",
                itinerary: [
                    { day: "1", text: "Marrakech -> High Atlas -> Ouarzazate -> Boumalne Dades" },
                    { day: "2", text: "Dades Valley -> Tinger -> Merzouga (Camel Trek)" },
                    { day: "3", text: "Merzouga -> Draa Valley -> Ouarzazate -> Marrakech" }
                ],
                included: ["Transport A/C 4x4/Van", "Driver", "Pick up/Drop off", "Dinner & Breakfast", "Camel Trek", "Desert Camp"],
                excluded: ["Lunches & Drinks", "Entrance fees"]
            },
            7: {
                title: "4 Days Tour from Marrakech to Merzouga Desert",
                image: "merzouga4.jpg",
                duration: "4 Days / 3 Nights",
                desc: "Get ready for a 4 days tour from Marrakech to Merzouga Desert that takes you through Morocco's most iconic landscapes.",
                itinerary: [
                    { day: "1", text: "Marrakech -> Ouarzazate" },
                    { day: "2", text: "Ouarzazate -> Merzouga" },
                    { day: "3", text: "Merzouga Exploration" },
                    { day: "4", text: "Merzouga -> Marrakech" }
                ],
                included: ["Transport", "Hotels/Camps", "Half Board"],
                excluded: ["Lunch", "Drinks"]
            },
            8: {
                title: "5 Days Marrakech Desert Tour",
                image: "merzouga5.jpg",
                duration: "5 Days / 4 Nights",
                desc: "An extended deep dive into the south of Morocco. Combine the history of the Kasbahs with the magic of the dunes.",
                itinerary: [
                    { day: "1", text: "Marrakech -> Dades" },
                    { day: "2", text: "Dades -> Merzouga" },
                    { day: "3", text: "Merzouga Desert Tour" },
                    { day: "4", text: "Merzouga -> Ouarzazate" },
                    { day: "5", text: "Ouarzazate -> Marrakech" }
                ],
                included: ["Transport", "Accommodation", "Desert Camp", "Camel Ride"],
                excluded: ["Lunch", "Tips"]
            },
            9: {
                title: "10 Days Morocco Exploration Tour",
                image: "morocco10.jpg",
                duration: "10 Days / 9 Nights",
                desc: "The ultimate grand tour. From the imperial cities to the deep desert, experience the full diversity of Morocco.",
                itinerary: [
                    { day: "1", text: "Arrival in Marrakech" },
                    { day: "2-9", text: "Touring Imperial Cities & Desert" },
                    { day: "10", text: "Departure" }
                ],
                included: ["Transport", "Hotels", "Guides", "Breakfasts"],
                excluded: ["Flights", "Lunches"]
            }
        };

        // 3. Logic
        let currentLang = 'en';

        function changeLanguage(lang) {
            currentLang = lang;
            const body = document.getElementById('body');
            
            if (currentLang === 'ar') {
                body.classList.add('rtl');
                document.documentElement.lang = "ar";
            } else {
                body.classList.remove('rtl');
                document.documentElement.lang = currentLang;
            }

            // Update static texts
            document.querySelectorAll('[data-lang]').forEach(el => {
                const key = el.getAttribute('data-lang');
                // Fallback to English if translation missing
                const text = (translations[currentLang] && translations[currentLang][key]) 
                             ? translations[currentLang][key] 
                             : translations['en'][key];
                if(text) el.textContent = text;
            });
            
            renderPrograms(); // Re-render cards
        }

        function renderPrograms() {
            const grid = document.getElementById('programs-grid');
            grid.innerHTML = ""; 

            for (const id in programsData) {
                const prog = programsData[id];
                const btnText = (currentLang === 'ar') ? "التفاصيل" : "View Details";
                const durLabel = (currentLang === 'ar') ? "المدة:" : "Duration:";

                grid.innerHTML += `
                <div class="card">
                    <div class="card-img">
                        <img src="${prog.image}" alt="${prog.title}" onerror="this.src='https://via.placeholder.com/400x250?text=Tour+Image'">
                    </div>
                    <div class="card-content">
                        <div class="card-meta">
                            <span><i class="fa-regular fa-clock"></i> ${prog.duration}</span>
                            <span><i class="fa-solid fa-location-dot"></i> Morocco</span>
                        </div>
                        <h3>${prog.title}</h3>
                        <p>${prog.desc.substring(0, 90)}...</p>
                        <button class="card-btn" onclick="openProgram(${id})">${btnText}</button>
                    </div>
                </div>
                `;
            }
        }

        function openProgram(id) {
            const data = programsData[id];
            if(!data) return;

            // Populate Modal
            document.getElementById('detail-title').innerText = data.title;
            const img = document.getElementById('detail-img');
            img.src = data.image;
            img.onerror = function(){this.src='https://via.placeholder.com/800x400?text=Tour+Image'};
            
            document.getElementById('detail-desc').innerText = data.desc;
            document.getElementById('detail-duration').innerText = data.duration;

            // Itinerary
            const itinDiv = document.getElementById('detail-itinerary');
            itinDiv.innerHTML = "";
            data.itinerary.forEach(item => {
                itinDiv.innerHTML += `
                <div class="itinerary-item">
                    <div class="day-badge">Day ${item.day}</div>
                    <p>${item.text}</p>
                </div>`;
            });

            // Services (Included/Excluded)
            const servDiv = document.getElementById('detail-services');
            servDiv.innerHTML = "";
            if(data.included) {
                data.included.forEach(x => servDiv.innerHTML += `<li><i class="fa-solid fa-check check"></i> ${x}</li>`);
            }
            if(data.excluded) {
                data.excluded.forEach(x => servDiv.innerHTML += `<li><i class="fa-solid fa-xmark times"></i> ${x}</li>`);
            }

            // WhatsApp Button & Tracking
            const waNumber = "212624725148";
            const waLink = document.getElementById('wa-link');
            waLink.href = `https://wa.me/${waNumber}?text=${encodeURIComponent("I am interested in: " + data.title)}`;
            
            waLink.onclick = function() {
                // GA4 Event
                if(typeof gtag !== 'undefined') {
                    gtag('event', 'generate_lead', {
                        'currency': 'EUR',
                        'event_category': 'WhatsApp',
                        'event_label': data.title
                    });
                }
                // Meta Pixel Event
                if(typeof fbq !== 'undefined') {
                    fbq('track', 'Contact', { content_name: data.title });
                }
            };

            showSection('program-detail-view');
        }

        function showSection(id) {
            document.querySelectorAll('.page-section').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
            document.getElementById('navbar').classList.remove('active-menu');
            window.scrollTo(0,0);
        }

        function toggleMenu() {
            document.getElementById('navbar').classList.toggle('active-menu');
        }

        // Initialize
        renderPrograms();
    </script>
</body>
</html>
